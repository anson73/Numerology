from datetime import date

class chinese_astrology:

    CNY_DATES = {
        1901: date(1901, 2, 19),
        1902: date(1902, 2, 8),
        1903: date(1903, 1, 29),
        1904: date(1904, 2, 16),
        1905: date(1905, 2, 4),
        1906: date(1906, 1, 25),
        1907: date(1907, 2, 13),
        1908: date(1908, 2, 2),
        1909: date(1909, 1, 22),
        1910: date(1910, 2, 10),
        1911: date(1911, 1, 30),
        1912: date(1912, 2, 18),
        1913: date(1913, 2, 6),
        1914: date(1914, 1, 26),
        1915: date(1915, 2, 14),
        1916: date(1916, 2, 3),
        1917: date(1917, 1, 23),
        1918: date(1918, 2, 11),
        1919: date(1919, 2, 1),
        1920: date(1920, 2, 20),
        1921: date(1921, 2, 8),
        1922: date(1922, 1, 28),
        1923: date(1923, 2, 16),
        1924: date(1924, 2, 5),
        1925: date(1925, 1, 24),
        1926: date(1926, 2, 13),
        1927: date(1927, 2, 2),
        1928: date(1928, 1, 23),
        1929: date(1929, 2, 10),
        1930: date(1930, 1, 30),
        1931: date(1931, 2, 17),
        1932: date(1932, 2, 6),
        1933: date(1933, 1, 26),
        1934: date(1934, 2, 14),
        1935: date(1935, 2, 4),
        1936: date(1936, 1, 24),
        1937: date(1937, 2, 11),
        1938: date(1938, 1, 31),
        1939: date(1939, 2, 19),
        1940: date(1940, 2, 8),
        1941: date(1941, 1, 27),
        1942: date(1942, 2, 15),
        1943: date(1943, 2, 5),
        1944: date(1944, 1, 25),
        1945: date(1945, 2, 13),
        1946: date(1946, 2, 2),
        1947: date(1947, 1, 22),
        1948: date(1948, 2, 10),
        1949: date(1949, 1, 29),
        1950: date(1950, 2, 17),
        1951: date(1951, 2, 6),
        1952: date(1952, 1, 27),
        1953: date(1953, 2, 14),
        1954: date(1954, 2, 3),
        1955: date(1955, 1, 24),
        1956: date(1956, 2, 12),
        1957: date(1957, 1, 31),
        1958: date(1958, 2, 18),
        1959: date(1959, 2, 8),
        1960: date(1960, 1, 28),
        1961: date(1961, 2, 15),
        1962: date(1962, 2, 5),
        1963: date(1963, 1, 25),
        1964: date(1964, 2, 13),
        1965: date(1965, 2, 2),
        1966: date(1966, 1, 21),
        1967: date(1967, 2, 9),
        1968: date(1968, 1, 30),
        1969: date(1969, 2, 17),
        1970: date(1970, 2, 6),
        1971: date(1971, 1, 27),
        1972: date(1972, 2, 15),
        1973: date(1973, 2, 3),
        1974: date(1974, 1, 23),
        1975: date(1975, 2, 11),
        1976: date(1976, 1, 31),
        1977: date(1977, 2, 18),
        1978: date(1978, 2, 7),
        1979: date(1979, 1, 28),
        1980: date(1980, 2, 16),
        1981: date(1981, 2, 5),
        1982: date(1982, 1, 25),
        1983: date(1983, 2, 13),
        1984: date(1984, 2, 2),
        1985: date(1985, 2, 20),
        1986: date(1986, 2, 9),
        1987: date(1987, 1, 29),
        1988: date(1988, 2, 17),
        1989: date(1989, 2, 6),
        1990: date(1990, 1, 27),
        1991: date(1991, 2, 15),
        1992: date(1992, 2, 4),
        1993: date(1993, 1, 23),
        1994: date(1994, 2, 10),
        1995: date(1995, 1, 31),
        1996: date(1996, 2, 19),
        1997: date(1997, 2, 7),
        1998: date(1998, 1, 28),
        1999: date(1999, 2, 16),
        2000: date(2000, 2, 5),
        2001: date(2001, 1, 24),
        2002: date(2002, 2, 12),
        2003: date(2003, 2, 1),
        2004: date(2004, 1, 22),
        2005: date(2005, 2, 9),
        2006: date(2006, 1, 29),
        2007: date(2007, 2, 18),
        2008: date(2008, 2, 7),
        2009: date(2009, 1, 26),
        2010: date(2010, 2, 14),
        2011: date(2011, 2, 3),
        2012: date(2012, 1, 23),
        2013: date(2013, 2, 10),
        2014: date(2014, 1, 31),
        2015: date(2015, 2, 19),
        2016: date(2016, 2, 8),
        2017: date(2017, 1, 28),
        2018: date(2018, 2, 16),
        2019: date(2019, 2, 5),
        2020: date(2020, 1, 25),
        2021: date(2021, 2, 12),
        2022: date(2022, 2, 1),
        2023: date(2023, 1, 22),
        2024: date(2024, 2, 10),
        2025: date(2025, 1, 29),
        2026: date(2026, 2, 17),
        2027: date(2027, 2, 6),
        2028: date(2028, 1, 26),
        2029: date(2029, 2, 13),
        2030: date(2030, 2, 3),
        2031: date(2031, 1, 23),
        2032: date(2032, 2, 11),
        2033: date(2033, 1, 31),
        2034: date(2034, 2, 19),
        2035: date(2035, 2, 8),
        2036: date(2036, 1, 28),
        2037: date(2037, 2, 15),
        2038: date(2038, 2, 4),
        2039: date(2039, 1, 24),
        2040: date(2040, 2, 12),
        2041: date(2041, 2, 1),
        2042: date(2042, 1, 22),
        2043: date(2043, 2, 10),
        2044: date(2044, 1, 30),
        2045: date(2045, 2, 17),
        2046: date(2046, 2, 6),
        2047: date(2047, 1, 26),
        2048: date(2048, 2, 14),
        2049: date(2049, 2, 2),
        2050: date(2050, 1, 23),
        2051: date(2051, 2, 11),
        2052: date(2052, 1, 31),
        2053: date(2053, 2, 18),
        2054: date(2054, 2, 8),
        2055: date(2055, 1, 28),
        2056: date(2056, 2, 15),
        2057: date(2057, 2, 4),
        2058: date(2058, 1, 24),
        2059: date(2059, 2, 12),
        2060: date(2060, 2, 2),
        2061: date(2061, 1, 21),
        2062: date(2062, 2, 9),
        2063: date(2063, 1, 29),
        2064: date(2064, 2, 17),
        2065: date(2065, 2, 5),
        2066: date(2066, 1, 26),
        2067: date(2067, 2, 14),
        2068: date(2068, 2, 3),
        2069: date(2069, 1, 23),
        2070: date(2070, 2, 11),
        2071: date(2071, 1, 31),
        2072: date(2072, 2, 19),
        2073: date(2073, 2, 7),
        2074: date(2074, 1, 27),
        2075: date(2075, 2, 15),
        2076: date(2076, 2, 5),
        2077: date(2077, 1, 24),
        2078: date(2078, 2, 12),
        2079: date(2079, 2, 2),
        2080: date(2080, 1, 22),
        2081: date(2081, 2, 9),
        2082: date(2082, 1, 29),
        2083: date(2083, 2, 17),
        2084: date(2084, 2, 6),
        2085: date(2085, 1, 26),
        2086: date(2086, 2, 14),
        2087: date(2087, 2, 3),
        2088: date(2088, 1, 24),
        2089: date(2089, 2, 10),
        2090: date(2090, 1, 30),
        2091: date(2091, 2, 18),
        2092: date(2092, 2, 7),
        2093: date(2093, 1, 27),
        2094: date(2094, 2, 15),
        2095: date(2095, 2, 5),
        2096: date(2096, 1, 25),
        2097: date(2097, 2, 12),
        2098: date(2098, 2, 1),
        2099: date(2099, 2, 19),
        2100: date(2100, 2, 8),
    }

    ZODIAC_ANIMALS = [
        "Rat", "Ox", "Tiger", "Rabbit", "Dragon", "Snake",
        "Horse", "Goat", "Monkey", "Rooster", "Dog", "Pig"
    ]

    def get_zodiac(self, bday: date) -> str:
        """
        Given a Gregorian birthday, return the Chinese Zodiac sign. 
        """
        y = bday.year

        if y not in self.CNY_DATES:
            raise ValueError(f"Year {y} is out of supported range for CNY data")
        
        cny = self.CNY_DATES[y]

        if bday < cny:
            # Born before Chinese New Year. 
            # Zodiac cycle is aligned so that year 4 AD was Rat, so index = (year âˆ’ 4) mod 12
            return self.ZODIAC_ANIMALS[((y - 1) - 4) % 12] 
        else:
            # Born on or after CNY. 
            return self.ZODIAC_ANIMALS[(y - 4) % 12]

    def main(self):
        s = input("Enter birthday (YYYY-MM-DD): ").strip()
        try:
            year, month, day = map(int, s.split("-"))
            bd = date(year, month, day)
            sign = self.get_zodiac(bd)
            print(f"Your Chinese Zodiac sign is: {sign}")

        except Exception as e:
            print("Error:", e)

if __name__ == "__main__":
    chinese_astrology().main()
